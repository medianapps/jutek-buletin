<!DOCTYPE html>
<html lang="id" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JuTeK - Buletin Teknologi</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <main class="container">
        <!-- Bulletin Header -->
        <header class="bulletin-header">
            <div class="bulletin-meta">
                <span>Thynk Unlimited</span>
                <span id="current-date">EDISI LATEST</span>
            </div>
            <h1 class="bulletin-title">BULETIN</h1>
            <div class="bulletin-subtitle">Jurnal Teknologi Karyawan</div>
        </header>

        <!-- Feature Box (Latest Edition) -->
        <section id="feature-section" style="display: none;">
            <div class="feature-box">
                <div class="feature-tag">EDISI TERBARU</div>
                <div class="feature-content">
                    <div>
                        <h2 id="feature-title">Masalah Yang Dihadapi Hewan</h2>
                        <ul id="feature-list">
                            <li>Klik tombol di bawah untuk membaca lengkap.</li>
                        </ul>
                        <div style="margin-top: 2rem;">
                            <a href="#" id="feature-link" class="btn-retro">BACA SEKARANG &rarr;</a>
                        </div>
                    </div>
                    <div>
                        <img id="feature-image" src="hero.png" alt="Ilustrasi" class="feature-img" onerror="this.src='https://placehold.co/600x400/2c2c2c/fff?text=JuTeK';">
                    </div>
                </div>
            </div>
        </section>

        <!-- Archives Grid -->
        <section class="archives-section">
            <h2>Arsip Edisi Lalu</h2>
            <div id="archives-container" class="bento-grid">
                <!-- Javascript will populate this -->
                <article aria-busy="true">Sedang memuat arsip...</article>
            </div>
        </section>

    </main>

    <footer class="retro-footer">
        <div class="container">
            <!-- CTA Section -->
            <div style="margin-bottom: 3rem; border-bottom: 1px dashed var(--accent-yellow); padding-bottom: 2rem;">
                <h3 style="color: var(--accent-yellow);">ðŸŒŸ Bergabunglah dengan Komunitas JuTeK!</h3>
                <p>Punya insights teknologi menarik? Bagikan pengetahuan Anda dan jadilah bagian dari komunitas tech terdepan!</p>
                <a href="https://bit.ly/jutek-form" target="_blank" role="button" style="background-color: var(--accent-yellow); color: var(--ink); border: none; font-weight: 800; padding: 0.75rem 2rem;">
                    Kirim Artikel Anda Sekarang!
                </a>
            </div>

            <img src="dasa.png" alt="DASA Logo" style="height: 60px; margin-bottom: 1rem;" onerror="this.style.display='none'">
            <p><strong>PT. Dasa Aprilindo Sentosa</strong></p>
            <p><small>Program Pengembangan Teknologi & Sumber Daya Manusia</small></p>
            <small>&copy; 2026 All Rights Reserved.</small>
        </div>
    </footer>

    <script>
        // Konfigurasi File
        const articleFiles = [
            '2602.html', '2601.html', 
            '2512.html', '2511.html', '2510.html', '2509.html'
        ];

        const monthNames = [
            'Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 
            'Jul', 'Agt', 'Sep', 'Okt', 'Nov', 'Des'
        ];

        function getMonthName(monthIndex) {
            return monthNames[parseInt(monthIndex) - 1] || 'Bulan ' + monthIndex;
        }

        async function init() {
            const container = document.getElementById('archives-container');
            const featureSection = document.getElementById('feature-section');
            const featureTitle = document.getElementById('feature-title');
            const featureLink = document.getElementById('feature-link');
            const currentDate = document.getElementById('current-date');
            
            const articles = [];

            // 1. Fetch data
            for (const file of articleFiles) {
                const baseName = file.split('.')[0];
                const yearShort = baseName.substring(0, 2);
                const monthStr = baseName.substring(2, 4);
                const yearFull = '20' + yearShort;

                try {
                    const resp = await fetch(file);
                    let title = `Edisi ${getMonthName(monthStr)}`;
                    let image = null;

                    if (resp.ok) {
                        const text = await resp.text();
                        const doc = new DOMParser().parseFromString(text, 'text/html');
                        
                        const h1 = doc.querySelector('h1, h2');
                        if (h1) title = h1.textContent.trim();
                        else if (doc.title) title = doc.title;

                         // Extract first image
                        const imgEl = doc.querySelector('img');
                        if (imgEl) image = imgEl.getAttribute('src');
                    }

                    articles.push({
                        file,
                        month: monthStr,
                        monthName: getMonthName(monthStr),
                        year: yearFull,
                        title,
                        image
                    });
                } catch (e) {
                    console.error("Error loading", file, e);
                }
            }

            // 2. Render Latest (Feature)
            if (articles.length > 0) {
                const latest = articles[0];
                featureSection.style.display = 'block';
                featureTitle.textContent = latest.title;
                featureLink.href = latest.file; // Dynamic Link Fix
                currentDate.textContent = `EDISI ${latest.monthName.toUpperCase()} ${latest.year}`;
                
                if (latest.image) {
                     document.getElementById('feature-image').src = latest.image;
                }

                // Add specific subtitle/bullets if needed, for now generic
                const list = document.getElementById('feature-list');
                list.innerHTML = `
                    <li>Edisi Unggulan Bulan ${latest.monthName}</li>
                    <li>Wawasan Teknologi Terbaru</li>
                    <li>Studi Kasus & Implementasi</li>
                `;
            }

            // 3. Render Archives (Skip first if it's featured)
            container.innerHTML = '';
            const archives = articles.slice(1);
            
            archives.forEach((item, index) => {
                const card = document.createElement('article');
                card.className = 'archive-card';
                // Rotate colors
                if (index % 3 === 0) card.classList.add('bg-yellow');
                if (index % 3 === 1) card.classList.add('bg-blue');

                // Image HTML
                let imgHTML = '';
                if(item.image) {
                    imgHTML = `<div style="height: 150px; overflow: hidden; border-bottom: 2px solid var(--ink); margin: -1.5rem -1.5rem 1rem -1.5rem;">
                        <img src="${item.image}" alt="${item.title}" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>`;
                }

                card.innerHTML = `
                    ${imgHTML}
                    <div class="archive-header">
                        <span class="archive-month">${item.monthName.toUpperCase()}</span>
                        <span class="archive-year">${item.year}</span>
                    </div>
                    <div class="archive-footer">
                        <a href="${item.file}" class="btn-retro">BACA ARSIP</a>
                    </div>
                `;
                container.appendChild(card);
            });
        }


        init();
    </script>
</body>
</html>